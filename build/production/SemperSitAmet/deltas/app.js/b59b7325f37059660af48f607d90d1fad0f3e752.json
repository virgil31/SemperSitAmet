["function _346c8aa1de4fc250e05f2b854d6d84ff86212cb8",50,903,"navigation){Ext.navigatio",940,435,"controller){SemperSitAmet.controller={}}",1357,46,"if(!SemperSitAmet.view.main){SemperSitAmet.view.main={}}if(!SemperSitAmet.view.welcome){SemperSitAmet.view.welcome",1399,490224,"navigation.Bar\",Ext.TitleBa",306151,46,326434,44,"defaultType:\"button\",layout:{type:\"hbox\"},defaultBackButtonText:\"Back\",animation:{duration:300},useTitleForBackButtonText:null,view:null,android2Transforms:false,backButton:{align:\"left\",ui:\"back\",hidden:true}",494078,56,"animation:false}]",386752,36,"!a.items){a.items=[]}this.backButtonStack=[];this.activeAnimations=[];Ext.TitleBar",378319,37,"applyBackButton",300992,38,"Button,this.getBackButton())},updateBackButton:function(a,b){if(b){this.remove(b)}if(a){this.add(a);a.on({scope:this,tap:this.onBackButtonTap})}},onBackButtonTap:function(){this.fireEvent(\"back\",this)},updateView:function(b){var d=this,j=d.getBackButton(),a,c,f,g,e,h;d.getItems();if(b){a=b.getInnerItems();for(c=0;c<a.length;c++){g=a[c];e=(g.getTitle)?g.getTitle():g.config.title;d.backButtonStack.push(e||\"&nbsp;\")}h=d.getTitleText();if(h===undefined){h=\"\"}d.setTitle(h);f=d.getBackButtonText();if(f){j.setText(f);j.show()}}},onViewAdd:function(c,e){var d=this,b=d.backButtonStack,a,f;d.endAnimation();f=(e.getTitle)?e.getTitle():e.config.title;b.push(f||\"&nbsp;\");a=b.length>1;d.doChangeView(c,a,false)},onViewRemove:function(c){var d=this,b=d.backButtonStack,a;d.endAnimation();b.pop();a=b.length>1;d.doChangeView(c,a,true)},doChangeView:function(k,c,g){var r=this,o=r.leftBox,e=o.element,f=r.titleComponent,m=f.element,n=r.getBackButton(),l=r.getTitleText(),h=r.getBackButtonText(),q=r.getAnimation()&&k.getLayout().getAnimation(),p=q&&q.isAnimation&&k.isPainted(),d,i,a,j,b;if(p){i=r.createProxy(o.element);e.setStyle(\"opacity\",\"0\");n.setText(h);n[c?\"show\":\"hide\"]();a=r.createProxy(f.element.getParent());m.setStyle(\"opacity\",\"0\");r.setTitle(l);d=r.measureView(i,a,g);j=d.left;b=d.title;r.isAnimating=true;r.animate(e,j.element);r.animate(m,b.element,function(){m.setLeft(d.titleLeft);r.isAnimating=false;r.refreshTitlePosition()",307804,33,"2&&!this.getAndroid2Transforms()){i.ghost.destroy();a.ghost.destroy()}else{r.animate(i.ghost,j.ghost);r.animate(a.ghost,b.ghost,function(){i.ghost.destroy();a.ghost.destroy()})}}else{if(c){n.setText(h);n.show()}else{n.hide()}r.setTitle(l)}},measureView:function(e,u,k){var w=this,j=w.element,v=w.leftBox.element,p=w.titleComponent.element,l=Math.min(j.getWidth()/3,200),q=v.getWidth(),c=j.getX(),m=j.getWidth(),n=p.getX(),d=p.getLeft(),s=p.getWidth(),r=e.x,t=e.width,a=e.left,h=Ext.browser.is.AndroidStock2&&!this.getAndroid2Transforms(),i,b,f,x,o,g;g=c-r-t;if(k){i=g;b=Math.min(n-t,l)}else{b=g;i=Math.min(n-c,l)}if(h){f={element:{from:{left:i,opacity:1},to:{left:0,opacity:1}}}}else{f={element:{from:{transform:{translateX:i},opacity:0},to:{transform:{translateX:0},opacity:1}},ghost:{to:{transform:{translateX:b},opacity:0}}}}g=c-n+q;if((a+s)>n){o=c-n-s}if(k){p.setLeft(0);b=c+m-n-s;if(o!==undefined){i=o}else{i=g}}else{i=c+m-n-s;if(o!==undefined){b=o}else{b=g}i=Math.max(d,i)}if(h){x={element:{from:{left:i,opacity:1},to:{left:d,opacity:1}}}}else{x={element:{from:{transform:{translateX:i},opacity:0},to:{transform:{translateX:d},opacity:1}},ghost:{to:{transform:{translateX:b},opacity:0}}}}return{left:f,title:x,titleLeft:d}},animate:function(b,a,e){var c=this,d;b.setLeft(0);a=Ext.apply(a,{element:b,easing:\"ease-in-out\",duration:c.getAnimation().duration||250,preserveEndState:true});d=new Ext.fx.Animation(a);d",272222,33,"e){e.call(c)}},c);Ext.Animator.run(d);c.activeAnimations.push(d)},endAnimation:function(){var a=this.activeAnimations,d,b,c;if(a){c=a.length;for(b=0;b<c;b++){d=a[b];if(d.isAnimating){d.stopAnimation()}else{d.destroy()}}this.activeAnimations=[]}",328415,37,"!this.isAnimating){Ext.TitleBar.prototype.refreshTitlePosition.call(this)}},getBackButtonText:function(){var b=this.backButtonStack[this.backButtonStack.length-2],a=this.getUseTitleForBackButtonText();if(!a){if(b){b=this.getDefaultBackButtonText()}}return b},getTitleText:function(){return this.backButtonStack[this.backButtonStack.length-1]},beforePop:function(b){b--;for(var a=0;a<b;a++){this.backButtonStack.pop()}},doSetHidden:function(a){if(!a){this.element.setStyle({position:\"relative\",top:\"auto\",left:\"auto\",width:\"auto\"})}else{this.element.setStyle({position:\"absolute\",top:\"-1000px\",left:\"-1000px\",width:this.element.getWidth()+\"px\"})}},createProxy:function(b){var e,a,f,d,c;e=b.dom.cloneNode(true);e.id=b.id+\"-proxy\";b.getParent().dom.appendChild(e);e=Ext.get(e);a=b.getX();f=b.getY();d=b.getLeft();c=b.getWidth();e.setStyle(\"position\",\"absolute\");e.setX(a);e.setY(f);e.setHeight(b.getHeight());e.setWidth(c);return{x:a,y:f,left:d,width:c,ghost:e}",516107,33,329214,57,"0,0,[Ext.navigation,\"Bar\"],0));(Ext.cmd.derive(\"Ext.navigation.View",493658,41,"NavigationView\",config:{baseCls:\"x-navigationview\",navigationBar:{docked:\"top\"},defaultBackButtonText:\"Back\",useTitleForBackButtonText:false",493759,32,"duration:300,easing:\"ease-out\",type:\"slide\",direction:\"left\"}}",494078,56,"navigationBar:{splitNavigation:true}}]",472491,33,",a=b.getNavigationBar();if(a){a.on({back:b.onBackButtonTap,scope:b});b.relayEvents(a,\"rightbuttontap\");b.relayEvents(b,{add:\"push\",remove:\"pop\"})}},applyLayout:function(a){a=a||{};return a},onBackButtonTap:function(){this.pop();this.fireEvent(\"back\",this)},push:function(a){return this.add(a)},pop:function(a){if(this.beforePop(a)){return this.doPop()}},beforePop:function(f){var e=this,g=e.getInnerItems();",261916,37,"var d=g.length-1,a;for(a=d;a>=0;a--){if((Ext.isString(f)&&Ext.ComponentQuery.is(g[a],f))||(Ext.isObject(f)&&f==g[a])){f=d-a;break}}if(!Ext.isNumber(f)){return false}}var c=g.length,b;if(!Ext.isNumber(f)||f<1){f=1}f=Math.min(f,c-1);if(f){e.getNavigationBar().beforePop(f);b=g.splice(-f,f-1);for(a=0;a<b.length;a++){this.remove(b[a])}return true}return false},doPop:function(){var b=this,c=this.getInnerItems();b.remove(c[c.length-1]);if(c.length<3&&this.$backButton){this.$backButton.hide()}if(this.$titleContainer){var a=c[c.length-2];this.$titleContainer.setTitle((a.getTitle)?a.getTitle():a.config.title)}return this.getActiveItem()},getPreviousItem:function(){var a=this.getInnerItems();return a[a.length-2]},updateUseTitleForBackButtonText:function(b){var a=this.getNavigationBar();if(a){a.setUseTitleForBackButtonText(b)}},updateDefaultBackButtonText:function(b){var a=this.getNavigationBar();if(a){a.setDefaultBackButtonText(b)}},onBackButtonContainerAdd:function(b,a){a.on({scope:this,show:this.refreshBackButtonContainer,hide:this.refreshBackButtonContainer});this.refreshBackButtonContainer()},onBackButtonContainerRemove:function(b,a){a.un({scope:this,show:this.refreshBackButtonContainer,hide:this.refreshBackButtonContainer});this.refreshBackButtonContainer()},refreshBackButtonContainer:function(){if(!this.$backButtonContainer){return}var c=0,a=this.$backButtonContainer,b=a.items,d;for(;c<b.length;c++){d=b.get(c);if(!d.isHidden()){this.$backButtonContainer.show();return}}this.$backButtonContainer.hide()},applyNavigationBar:function(a){var b=this;if(!a){a={hidden:true,docked:\"top\"}}if(a.title){delete a.title}a.view=this;a.useTitleForBackButtonText=this.getUseTitleForBackButtonText();if(a.splitNavigation){this.$titleContainer=this.add({docked:\"top\",xtype:\"titlebar\",ui:\"light\",title:this.$currentTitle||\"\"});var c=(a.splitNavigation===true)?{}:a.splitNavigation;this.$backButtonContainer=this.add({xtype:\"toolbar\",docked:\"bottom\",hidden:true});this.$backButtonContainer.on({scope:b,add:b.onBackButtonContainerAdd,remove:b.onBackButtonContainerRemove});this.$backButton=this.$backButtonContainer.add({xtype:\"button\",text:\"Back\",hidden:true,ui:\"back\"});if(a.items){this.$backButtonContainer.add(a.items)}if(c.items){this.$titleContainer.add(c.items)}this.$backButton.on({scope:this,tap:this.onBackButtonTap});a={hidden:true,docked:\"top\"}}return Ext.factory(a,Ext.navigation.Bar,this.getNavigationBar())},updateNavigationBar:function(a,b){if(b){this.remove(b,true)}if(a){this.add(a)}",271582,36,"b=this,c=b.getInnerItems();b.getItems();if(!b.initialized){d=c.length-1",501801,32,"applyActiveItem.call(this,d,a)},doResetActiveItem:function(d){var a=this,c=a.getInnerItems(),b=a.getLayout().getAnimation();if(d>0){if(b&&b.isAnimation){b.setReverse(true)}a.setActiveItem(d-1);a.getNavigationBar().onViewRemove(a,c[d],d)}},doRemov",197951,35,".getAnimation();if(a&&a.isAnimation){a.setReverse(false)}Ext.Container.prototype.doRemove.apply(this,arguments)},onItemAdd:function(b,a){if(b&&b.getDocked()&&b.config.title===true){this.$titleContainer=b}this.doItemLayoutAdd(b,a);var c=this.getInitialConfig().navigationBar;if(!this.isItemsInitializing&&b.isInnerItem()){this.setActiveItem(b);if(c){this.getNavigationBar().onViewAdd(this,b,a)}if(this.$backButtonContainer){this.$backButton.show()}}if(b&&b.isInnerItem()){this.updateTitleContainerTitle((b.getTitle)?b.getTitle():b.config.title)}",174368,37,"add\",this,b,a)}},updateTitleContainerTitle:function(a){if(this.$titleContainer){this.$titleContainer.setTitle(a)}else{this.$currentTitle=a}},reset:function(){return this.pop(this.getInnerItems().length)}},0,[\"navigationview\"],[\"component\",\"container\",\"navigationview",480623,34,"navigationview:true},[\"widget.navigationview\"],0,[Ext.navigation,\"View\",Ext,\"Navigation",260943,32,491623,27442,"controller.C_utility\",Ext.app.Controller,{config:{control:{}},updateUiStates:function(){Ext.Ajax.request({url:\"http://192.168.1.220/?action=read_actual_states\",timeout:5000,success:function(b){Ext.Msg.alert(\"TEST CONNECTION\",\"OK\");var a=Ext.JSON.decode(b.responseText),d=a.result[\"7\"],c=a.result[\"8\"];Ext.ComponentQuery.query(\"main togglefield[name=led_verde]\")[0].setValue(d);Ext.ComponentQuery.query(\"main togglefield[name=led_rosso]\")[0].setValue(c)},failure:function(){Ext.Msg.alert(\"TEST CONNECTION\",\"Non connesso ad Arduino\")}})},setLed",521136,109,"}};c",520970,50,"\"+a+\"&value=\"+b,true);c.send()}},0,0,0,0,0,0,[SemperSitAmet.controller,\"C_utility",519027,43,"welcome.V_welcome\",Ext.navigation.View,{config:{items:[{title:\"Benvenuto!\",scrollable:true,padding:20",519820,35,"},items:[{xtype:\"image\",src:\"resources/images/logo.png\",width:150,height:150,margin:\"10 0 0 0\",style:{backgroundColor:\"white\"}},{html:\"<div style='text-align: center;'>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.</div>",519619,43,"Inizia\",ui:\"action-",519674,60,"navigationview\").push({title:\"Connessione\",scrollable:true,padding:20",519820,35,"},items:[{xtype:\"image\",src:\"resources/images/connect_arduino.png\",width:\"100%\",height:150,margin:\"10 0 0 0\"},{html:\"<div style='text-align: center;'>Arduino viene distribuito con l'indirizzo predefinito 192.168.1.220. Assicurarsi quindi di trovarsi sulla sua stessa rete e che tale indirizzo non sia gi\ufffff\ufffff occupato da un altro dispositivo.<br><br>Collegare Arduino alla rete adsl ed elettrica. Usare quindi il pulsante di seguito per effettuare un test veloce.</div>",519619,43,"Verifica Connessione\",ui:\"action",520364,44,"b){b.up(\"viewport\").mask({xtype:\"loadmask\",message:\"Verifica in corso\"});Ext.Ajax.request({url:\"http://192.168.1.220/?action=read_actual_states\",timeout:5000,success:function(c){b.up(\"viewport\").unmask();b.up(\"navigationview\").push({title:\"Perfetto!\",scrollable:true,padding:20",519820,59,"xtype:\"image\",src:\"resources/images/icon_ok.png\",width:250,height:250},{xtype:\"button\",text:\"Inizia subito!\",ui:\"confirm\",margin:\"30 0 0 0\",handler:function(){Ext.Msg.alert(\"asd\",\"asd\")}}]})},failure:function(){b.up(\"viewport\").unmask();Ext.Msg.alert(\"Attenzione\",\"Non connesso ad Arduino!\")}})}}}]})}}}]}]}},0,[\"welcome\"],[\"component\",\"container\",\"navigationview\",\"welcome",480623,34,"navigationview:true,welcome:true},[\"widget.welcome\"],0,[SemperSitAmet.view.welcome,\"V_welcome",519027,38,"controller.C_welcome\",Ext.app.Controller,{config:{views:[\"welcome.V_welcome\"],control:{}}},0,0,0,0,0,0,[SemperSitAmet.controller,\"C_welcome",519027,43,"main.V_m",519071,1691,"name:\"led_verde",521087,70,520830,100,520966,123,"name:\"led_r",521083,74,520830,100,520966,54,"8",521021,37,"button\",text:\"Salva configurazione\",margin:\"20 0 1",519696,32,"var b=new XMLHttpRequest();b",520864,34,"b.readyState==4&&b.status==200){}};b",520970,43,"ave_current_states\",true);b.send()}}},{xtype:\"button\",text:\"Carica configurazione\",margin:\"1",519692,36,"var b=new XMLHttpRequest();b",520864,34,"b.readyState==4&&b.status==200){var c=JSON.parse(b.responseText);states=c.result.toString(),states=states.split(\"\").reverse().join(\"\");led7=(states[7]!=undefined)?states[7]:0;led8=(states[8]!=undefined)?states[8]:0;SemperSitAmet.app.getController(\"C_utility\").setLed(7,led7);SemperSitAmet.app.getController(\"C_utility\").setLed(8,led8);SemperSitAmet.app.getController(\"C_utility\").updateUiStates()}};b",520970,42,"read_saved_states\",true);b",521348,164,".main,\"V_main",519027,38,"controller.C_main\",Ext.app.Controller,{config:{views:[\"main.V_main\"],control:{}}},0,0,0,0,0,0,[SemperSitAmet.controller,\"C_m",521515,48,"controllers:[\"C_utility\",\"C_welcome\",\"C_m",521572,524,"Msg.defaultAllowedConfig.showAnimation=false;Ext.Ajax.setUseDefaultXhrHeader(false);Ext.Viewport.add({xtype:\"welcome\"}",522146,207]