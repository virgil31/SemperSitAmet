["function _08ea58e5889decce27ea55015146c904ff1396d8(){};var Ext=Ext||{};if(!Ext.Picker){Ext.Picker={}}",71,1059,"icker){Ext.picker",1117,575,"settings){SemperSitAmet.view.settings={}}if(!SemperSitAmet.view.type_pin){SemperSitAmet.view.type_p",1663,300863,"abel",303456,36,"label\"}},0,[\"label\"],[\"component\",\"label\"],{component:true,label:true},[\"widget.label\"],0,[Ext,\"Label",302497,210839,"Ext.define(\"Ext.picker.Slot\",{extend:Ext.dataview.DataView,xtype:\"pickerslot\",alternateClassName:\"Ext.Picker.Slot\",isSlot:true,config:{title:null,showTitle:true,cls:\"x-picker-slot\",name:null,value:null,flex:1,align:\"left\",displayField:\"text\",valueField:\"value\",itemTpl:null,scrollable:{direction:\"vertical\",indicators:false,momentumEasing:{minVelocity:2},slotSnapEasing:{duration:100}},verticallyCenterItems:true",311901,35,"],title:\"choose an item\"}]",423347,37,"Index=0;",467360,32,264656,35,"applyTitle:function(a){if(a){a=Ext.create(\"Ext.Component\",{cls:\"x-picker-slot-title\",docked:\"top\",html:a})}return a",304421,45,";this.setupBar()}if(a){this.remove(a)}},updateShowTitle:function(a){var c=this.getTitle(),b=a?\"show\":\"hide\";if(c){c.on(b,this.setupBar,this,{single:true,delay:50});c[a?\"show\":\"hide\"]()}},updateDisplayField:function(a){if(!this.config.itemTpl){this.setItemTpl('<div class=\"x-picker-item {cls} <tpl if=\"extra\">x-picker-invalid</tpl>\">{'+a+\"}</div>\")}},updateAlign:function(a,c){var b=this.element;b.addCls(\"x-picker-\"+a);b.removeCls(\"x-picker-\"+c)},applyData:function(d){var f=[],c=d&&d.length,a,b,e;if(d&&Ext.isArray(d)&&c){for(a=0;a<c;a++){b=d[a];e={};if(Ext.isArray(b)){e[this.valueField]=b[0];e[this.displayField]=b[1]}else{if(Ext.isString(b)){e[this.valueField]=b;e[this.displayField]=b}else{if(Ext.isObject(b)){e=b}}}f.push(e)}}return d},initialize:function(",467358,34,"initialize.call(this);var a=this.getScrollable().getScroller();this.on({scope:this,painted:\"onPainted\",itemtap:\"doItemTap\"});this.elemen",306159,42,",touchend:\"onTouchEnd\"});a.on({scope:this,scrollend:\"onScrollEnd\"})},onPainted:function(){this.setupBar()},getPicker:function(){if(!this.picker){this.picker=this.getParent()}return this.picker},setupBa",546264,32,"return}var a=this.element,e=this.innerElement,f=this.getPicker(),g=f.bar,k=this.getValue(),b=this.getShowTitle(),j=this.getTitle(),h=this.getScrollable(),d=h.getScroller(),c=0,l,i;l=g.dom.getBoundingClientRect().height;if(b&&j){c=j.element.getHeight()}i=Math.ceil((a.getHeight()-c-l)/2);if(this.getVerticallyCenterItems()){e.setStyle({padding:i+\"px 0 \"+i+\"px\"})}d.refresh();d.setSlotSnapSize(l);this.setValue(k)},doItemTap:function(d,a,c,f){var b=this;b.selectedIndex=a;b.selectedNode=c;b.scrollToItem(c,true)},scrollToItem:function(e,d){var h=e.getY(),c=e.parent(),f=c.getY(),b=this.getScrollable(),a=b.getScroller(),g;g=h-f;a.scrollTo(0,g,d",241904,32,"element.addCls(\"x-scrolling\")},onTouchEnd:function(){this.element.removeCls(\"x-scrolling\")},onScrollEnd:function(b,a,g){var f=this,d=Math.round(g/f.picker.bar.dom.getBoundingClientRect().height),c=f.getViewItems(),e=c[d];if(e){f.selectedIndex=d;f.selectedNode=e;f.fireEvent(\"slotpick\",f,f.getValue(),f.selectedNode)}},get",314489,32,"Store(),a,d;if(!b){return}if(!this.rendered||!c){return this._value}if(this._value===false){return null}a=b.getAt(this.selectedIndex);d=a?a.get(this.getValueField()):null;return d},set",101784,32,"SetValue(a)},setValueAnimated:function(a){return this.doSetValue(a,true)},doSetValue:function(g,f){if(!this.rendered){this._value=g;return}var b=this.getStore(),a=this.getViewItems(),d=this.getValueField(),c,e;c=b.findExact(d,g);if(c==-1){c=0}e=Ext.get(a[c]);this.selectedIndex=c;if(e){this.scrollToItem(e,(f)?{duration:100}:false);this.select(this.selectedIndex)}this._value=g}});Ext.define(\"Ext.picker.Picker\",{extend:Ext.Sheet,alias:\"widget.picker\",alternateClassName:\"Ext.Picker\",isPicker:true,config:{baseCls:\"x-picker\",doneButton:true,cancelButton:true,useTitles:false,slots:null,value:null,height:220,layout:{type:\"hbox\",align:\"stretch\"},centered:false,left:0,right:0,bottom:0,defaultType:\"pickerslot\",toolbarPosition:\"top\",toolbar:{xtype:\"titlebar\"}",311901,35,"],height:\"100%\",toolbarPosition:\"bottom\",toolbar:{xtype:\"toolbar\",layout:{type:\"hbox\",pack:\"center\"}},doneButton:{iconCls:\"check2\",ui:\"round\",text:\"\"},cancelButton:{iconCls:\"delete\",ui:\"round\",text:\"\"}},{theme:[\"CupertinoClassic\"],toolbar:{ui:\"black\"}},{theme:[\"MountainView\"],toolbarPosition:\"bottom\",toolbar:{defaults:{flex:1}",539736,39,"\"x-\",c=this.innerElement;this.mask=c.createChild({cls:a+\"picker-mask\"});this.bar=this.mask.createChild({cls:a+\"picker-bar\"});b.on({scope:this,delegate:\"pickerslot\",slotpick:\"onSlotPick\"})},applyToolbar:function(a){if(a===true){a={}}Ext.applyIf(a,{docked:this.getToolbarPosition()});return Ext.factory(a,\"Ext.TitleBar\",this.getToolbar())},updateToolbar",322364,56,"applyDoneButton:function(a){if(a){if(Ext.isBoolean(a)){a={}}if(typeof a==\"string\"){a={text:a}}Ext.applyIf(a,{ui:\"action\",align:\"right\",text:\"Done\"})}return Ext.factory(a,\"Ext.Button\",this.getDoneButton())},updateDoneButton:function(c,a){var b=this.getToolbar();if(c){b.add(c);c.on(\"tap\",this.onDoneButtonTap,this)}else{if(a){b.remove(a)}}},applyCancelButton:function(a){if(a){if(Ext.isBoolean(a)){a={}}if(typeof a==\"string\"){a={text:a}}Ext.applyIf(a,{align:\"left\",text:\"Cancel\"})}return Ext.factory(a,\"Ext.Button\",this.getCancelButton())},updateCancelButton:function(b,a){var c=this.getToolbar();if(b){c.add(b);b.on(\"tap\",this.onCancelButtonTap,this)}else{if(a){c.remove(a)}}},updateUseTitles:function(d){var f=this.getInnerItems(),e=f.length,a=\"x-use-titles\",c,b;if(d",303067,40,"for(c=0;c<e;c++){b=f[c];if(b.isSlot){b.setShowTitle(d)}}},applySlots:function(b){if(b){var c=b.length,a;for(a=0;a<c;a++){b[a].picker=this}}return b},updateSlots:function(a){var b=\"x-\",c;this.removeAll();if(a){this.add(a)}c=this.getInnerItems();if(c.length>0){c[0].addCls(b+\"first\");c[c.length-1].addCls(b+\"last\")}this.updateUseTitles(this.getUseTitles())},onDoneButtonTap:function(){var a=this._value,b=this.getValue(true);if(b!=a){this.fireEvent(\"change\",this,b)}this.hide();",263689,37,"},onCancel",535207,37,"cancel\",this);this.hide();",263689,37,"},onSlotP",310647,32,"pick\",this,this.getValue(true),a)},show:function(){if(this.getParent()===undefined){Ext.Viewport.add(this)}Ext.Shee",272816,39,"if(!this.isHidden()){this.setValue(this._value)}",322754,35,"},setValue:function(k,a){var f=this,d=f.getInnerItems(),e=d.length,j,h,c,b,g;if(!k){k={};for(b=0;b<e;b++){k[d[b].config.name]=null}}for(j in k){h=null;g=k[j];for(b=0;b<d.length;b++){c=d[b];if(c.config.name==j){h=c;break}}if(h){if(a){h.setValueAnimated(g)}else{h.setValue(g)}}}f._values=f._value=k;return f},setValueAnimated:function(a){this.setValue(a,true)},getValue:function(c){var b={},a=this.getItems().items,f=a.length,e,d;if(c){for(d=0;d<f;d++){e=a[d];if(e&&e.isSlot){b[e.getName()]=e.getValue(c)}}this._values=b}return this._values",128159,38,"Value()},destroy:function(){Ext.Shee",187146,35,"destroy(this.mask,this.bar)}},function(){});(Ext.cmd.derive(\"Ext.field.Select",317908,47,"Select\",config:{ui:\"select\",valueField:\"value\",displayField:\"text\",store:null,options:null,hiddenName:null,component:{useMask:true},clearIcon:false,usePicker:\"auto\",autoSelect:true,defaultPhonePickerConfig:null,defaultTabletPickerConfig:null,name:\"picker\",pickerSlotAlign:\"center\"",311901,35,"],pickerSlotAlign:\"left\"},{theme:[\"Tizen\"],usePicker:false",539737,43,"Component();Ext.field.Text",522288,33,"a.on({scope:b,masktap:\"onMaskTap\"});a.doMaskTap=Ext.emptyFn;",214560,33,"a.input.dom.disabled=true}",443772,56,"this.label.on({scope:b,tap:\"onFocus\"})}",443742,86,312111,84,312280,37,312172,95,"]}]}}else{return Ext.field.Tex",255017,50,"}},updateDefaultPhonePickerConfig:function(b){var a=this.picker;if(a){a.setConfig(b)}},updateDefaultTabletPickerConfig:function(a){var b=this.listPanel;if(b){b.setConfig(a)}},applyUsePicker:function(a){if(a==\"auto\"){a=(Ext.os.deviceType==\"Phone\")}return Boolean(a)},syncEmptyCls:Ext.emptyFn,applyValue:function(d){var a=d,c,b;this.getOptions();b=this.getStore();if((d!=undefined&&!d.isModel)&&b){c=b.find(this.getValueField(),d,null,null,null,true);if(c==-1){c=b.find(this.getDisplayField(),d,null,null,null,true)}a=b.getAt(c)}return a},updateValue:function(b,a){this.record=b;Ext.field.Text.prototype.updateValue.call(this,(b&&b.isModel)?b.get(this.getDisplayField()):\"\"",314663,33,".record;return(a&&a.isModel)?a.get(this.getValueField()):null},getRecord:function(){return this.record},getPhonePicker:function(){var a=this.getDefaultPhonePickerConfig();if(!this.picker){this.picker=Ext.create(\"Ext.picker.Picker\",Ext.apply({slots:[{align:this.getPickerSlotAlign(),name:this.getName(),valueField:this.getValueField(),displayField:this.getDisplayField(),value:this.getValue(),store:this.getStore()}],listeners:{change:this.onPickerChange,scope:this}},a))}return this.picker},getTabletPicker:function(){var a=this.getDefaultTabletPickerConfig();if(!this.listPanel){this.listPanel=Ext.create(\"Ext.Panel\",Ext.apply({left:0,top:0,modal:true,cls:\"x-select-overlay\",layout:\"fit\",hideOnMaskTap:true,width:Ext.os.is.Phone?\"14em\":\"18em\",height:(Ext.os.is.BlackBerry&&Ext.os.version.getMajor()===10)?\"12em\":(Ext.os.is.Phone?\"12.5em\":\"22em\"),items:{xtype:\"list\",store:this.getStore(),itemTpl:'<span class=\"x-list-label\">{'+this.getDisplayField()+\":htmlEncode}</span>\",listeners:{select:this.onListSelect,itemtap:this.onListTap,scope:this}}},a))}return this.listPanel},onMaskTap:function(){this.onFocus();return false},showPicker:function(){var f=this,j=f.getStore(),i=f.getValue();if(!j||j.getCount()===0){return}if(f.getReadOnly()){return}f.isFocused=true;if(f.getUsePicker()){var d=f.getPhonePicker(),a=f.getName(),h={};h[a]=i;d.setValue(h);if(!d.getParent()){Ext.Viewport.add(d)}d.show()}else{var g=f.getTabletPicker(),e=g.down(\"list\"),c,b;if(!g.getParent()){Ext.Viewport.add(g)}g.showBy(f.getComponent(),null);if(i||f.getAutoSelect()){j=e.getStore();c=j.find(f.getValueField(),i,null,null,null,true);b=j.getAt(c);if(b){e.select(b,null,true)}}}},onListSelect:function(c,a){var b=this;if(a){b.setValue(a)}},onListTap:function(){this.listPanel.hide({type:\"fade\",out:true,scope:this})},onPickerChange:function(d,f){var e=this,g=f[e.getName()],b=e.getStore(),c=b.find(e.getValueField(),g,null,null,null,true),a=b.getAt(c);e.setValue(a)},onChange:function(f,h,e){var g=this,b=g.getStore(),d=(b)?b.find(g.getDisplayField(),e,null,null,null,true):-1,c=g.getValueField(),a=(b)?b.getAt(d):null;e=(a)?a.get(c):null;g.fireEvent(\"change\",g,g.getValue(),e)},updateOptions",439419,56,"true);a=this._store}if(!b){a.clearData()}else{a.setData(b);this.onStoreDataChanged(a)}return this},applyStore:function(a){if(a===true){a=Ext.create(\"Ext.data.Store\",{fields:[this.getValueField(),this.getDisplayField()],autoDestroy:true})}if(a){a=Ext.data.StoreManager.lookup(a);a.on({scope:this,addrecords:\"onStoreDataChanged\",removerecords:\"onStoreDataChanged\",updaterecord:\"onStoreDataChanged\",refresh:\"onStoreDataChanged\"})}return a},updateStore:function(a){if(a){this.onStoreDataChanged(a)}if(this.getUsePicker()&&this.picker){this.picker.down(\"pickerslot\").setStore(a)}else{if(this.listPanel){this.listPanel.down(\"dataview\").setStore(a)}}},onStoreDataChanged:function(a){var c=this.getInitialConfig(),b=this.getValue();if(b||b==0){",307206,36,"}if(this.getValue()===null){if(c.hasOwnProperty(\"value\")){this.setValue(c.value)}if(this.getValue()===null&&this.getAutoSelect()){if(a.getCount()>0){this.setValue(a.getAt(0))}}",315534,33,"a=this",315643,39,308774,59,"},setDisabled",513600,36,"s",521607,32,"},updateLabelWidth",443760,74,"}else{Ext.field.Text.prototype.updateLabelWidth.apply(this,arguments)}},updateLabelAlign",443760,74,"}else{Ext.field.Text.prototype.updateLabelAlign.apply(this,arguments)}},reset:function(){var d=this,a;if(d.getAutoSelect()){var b=d.getStore();a=(d.originalValue)?d.originalValue:b.getAt(0)}else{var e=d.getUsePicker(),c=e?d.picker:d.listPanel;if(c){c=c.child(e?\"pickerslot\":\"dataview\");c.deselectAll()}a=null}d.setValue(a);return d},onFocus:function(b",521756,38,"var a=this.getComponent();this.fireEvent(\"focus\",this,b);if(Ext.os.is.Android4){a.input.dom.focus()}a.input.dom.blur();this.isFocused=true;this.showPicker()},destroy:function(){Ext.field.Text",469024,41,"var a=this.getStore();if(a&&a.getAutoDestroy()){Ext.destroy(a)}Ext.destroy(this.listPanel,this.picker)}},0,[\"selec",317486,41,",\"selec",317520,50,",selectfield:true},[\"widget.selectfield\"],0,[Ext.field,\"Select\",Ext.form,\"Select",523518,34,"Number",317908,47,"Number\",config:{component:{type:\"number\"},ui:\"number\"},proxyConfig:{",305039,42,"},applyPlaceHolder:function(a){this._enableNumericPlaceHolderHack=((!Ext.feature.has.NumericInputPlaceHolder)&&(!Ext.isEmpty(a)));return a},onFocus:function(a){if(this._enableNumericPlaceHolderHack){this.getComponent().input.dom.setAttribute(\"type\",\"number\")}Ext.field.Text.prototype.onFocus.apply(this,arguments)},onBlur:function(a){if(this._enableNumericPlaceHolderHack){this.getComponent().input.dom.setAttribute(\"type\",\"text\")}Ext.field.Text.prototype.onBlur.apply(this,arguments)},doIni",234953,32,"InitialConfig().value;if(a){a=this.applyValue(a)}this.originalValue=a},applyValue:function(b){var a=this.getMinValue(),c=this.getMaxValue();if(Ext.isNumber(a)&&Ext.isNumber(b)){b=Math.max(b,a)}if(Ext.isNumber(c)&&Ext.isNumber(b)){b=Math.min(b,c)}b=parseFloat(b);return(isNaN(b))?\"\":b},getValue:function(){var a=parseFloat(",522660,33,"field.Text.prototype.getValue).call(this),10);return(isNaN(a))?null:a",316396,33,"getComponent().setValue(\"\");a.getValue();a.hideClearIcon()}},0,[\"number",317487,40,",\"number",524733,35,"textfield:true,numberfield:true},[\"widget.numberfield\"],0,[Ext.field,\"Number\",Ext.form,\"Numb",522104,38,"humb",303456,37,513406,53487,"\"+window.localStorage.getItem(\"arduino_ip\")+\"",569035,59,566965,302,".",567267,146,"\"+window.localStorage.getItem(\"arduino_ip\")+\"/?action=set&pin",567442,344,"_arduin",567785,45,567862,615,568681,46,"<br><br>E' consigliabile associare un'ip fisso ad Arduino <br><br><b>hostname:</b> <i>WIZnetEFFEED</i><br><b>MAC:</b> <i>DE:AD:BE:EF:FE:ED</i><br><br>",568727,52,"la connessione",568094,50,568843,79,"Ext.Msg.prompt(\"Subnet\",\"Inserire la Subnet dove si trova Arduino\",function(g,e){if(g==\"ok\"",568920,81,"abortAll();var c=false;var f=0;for(var d=0;d<=255;d++",566861,32,"\"+e+\".\"+d+\"",569035,37,"60000,failure:function(){f++;if(f==256&&!c",569699,36,"alert(\"Attenzione!\",\"Testati tutti gli ip della subnet \"+e+\" senza successo.\")}},success:function(i){f++;var h=Ext.JSON.decode(i.responseText);if(h.success){c=true;Ext.Ajax.abortAll();var j=i.request.options.url.replace(\"http://\",\"\").replace(\"/?action=read_actual_states\",\"\");window.localStorage.setItem(\"arduino_ip\",j);",569097,431,571035,46,570343,41,"})}}},null,false,\"192.168.1\"",570387,427,"type_pin.V_switch\",Ext.field.Toggle,{initialize:function(){this_view=this;Ext.field.Toggle",522288,33,"Ext.Msg.alert(\"pin:\"+this_view.pin,\"etichetta:\"+this_view.etichetta);var a=this_view.pin;this_view.setLabel(this_view.etichetta);this_view.setListeners({change:function(b,c){var d=c?1:0;var e=new XMLHttpRequest();e",571277,34,"e.readyState==4&&e.status==200){}};e.open(\"GET\",\"http://\"+window.localStorage.getItem(\"arduino_ip\")+\"/?action=set&pin=\"+a+\"&value=\"+d,true);e.send()}})}},0,[\"switch",524688,51,",\"switch",521997,46,",togglefield:true,\"switch\":true},[\"widget.switch\"],0,[SemperSitAmet.view.type_pin,\"V_switch",573631,38,"view.type_pin.V_pression_button\",Ext.Button,{initialize:function(){this_view=this;Ext.Button",522288,37,"_view.elemen",306159,36,"start\"});var a=this_view.pin;this_view.setText(this_view.etichetta);this_view.setListeners({touchstart:function(",571823,120,"\"+window.localStorage.getItem(\"arduino_ip\")+\"/?action=set&pin=\"+a+\"&value=\"+1,true);b.send()},release:function(",567292,121,"\"+window.localStorage.getItem(\"arduino_ip\")+\"/?action=set&pin=\"+a+\"&value=\"+0,true);c.send()}})},onTouchstart:function(a){this.fireEvent(\"touchstart\",this,a)}},0,[\"pression_button\"],[\"component\",\"button\",\"pression_",282858,36,",pression_button:true},[\"widget.pression_button\"],0,[SemperSitAmet.view.type_pin,\"V_pression_button",573631,38,"view.type_pin.V_timed_button\",Ext.Button,{initialize:function(){this_view=this;Ext.Button",522288,33,"var a=this_view.pin;this_view.setText(this_view.etichetta);this_view.setListeners({tap:function(b){b.disable();",567295,94,"setTimeout(function(){c",571277,34,567357,32,"b.enable()}};c.open(\"GET\",\"http://\"+window.localStorage.getItem(\"arduino_ip\")+\"/?action=set&pin=\"+a+\"&value=\"+0,true);c.send()},this_view.tempo)}};c.open(\"GET\",\"http://\"+window.localStorage.getItem(\"arduino_ip\")+\"/?action=set&pin=\"+a+\"&value=\"+1,true);c.send()}})}},0,[\"timed_button\"],[\"component\",\"button\",\"timed_",282858,36,",timed_button:true},[\"widget.timed_button\"],0,[SemperSitAmet.view.type_pin,\"V_timed_button",573631,38,"view.main.V_main_ORIGINAL",570825,71,570910,55," Arduino",570965,162,"switch\",pin:7,etichetta:\"switch 7\",disabled:false,width:\"100%\",labelWidth:\"70%\"},{xtype:\"pression_button\",pin:8,etichetta:\"pression_button 8\",disabled:false,width:\"100%\",labelWidth:\"70%\"},{xtype:\"timed_button\",pin:7,etichetta:\"timed_button 7\",disabled:false,tempo:3000,width:\"100%\",labelWidth:\"70%\"",571117,250,"\"+window.localStorage.getItem(\"arduino_ip\")+\"/?action=set&pin=7",571706,37,571435,240,"\"+window.localStorage.getItem(\"arduino_ip\")+\"/?action=set&pin",571704,239,"\"+window.localStorage.getItem(\"arduino_ip\")+\"",571956,106,571792,127,572188,388,"\"+window.localStorage.getItem(\"arduino_ip\")+\"",572589,45,",{xtype:\"button\",text:'Elimina cookie \"arduino_ip\"',margin:\"10 0 0 0\",handler:function(){window.localStorage.removeItem(\"arduino_ip\")}},{xtype:\"button\",text:'Elimina cookie \"config_pins\"',margin:\"10 0 0 0\",handler:function(){window.localStorage.removeItem(\"config_pins\")",572632,161,"_ORIGINAL",573631,38,570809,87,570910,55," Arduino",570965,96,"settings\")[0].reset();",571035,83,"]},initialize:function(){this_view=this;Ext.Panel",522288,33,"if(Ext.JSON.decode(window.localStorage.getItem(\"config_pins\"))==null){SemperSitAmet.app.inizializzoBottoni()}var b=Ext.JSON.decode(window.localStorage.getItem(\"config_pins\"));var a=[];b.forEach(function(c){if(c!==null){c.width=\"100%\";c.labelWidth=\"70%\";a.push(c)}});a.push({xtype:\"button\",text:'Elimina cookie \"arduino_ip\"',margin:\"10 0 0 0\",handler:function(){window.localStorage.removeItem(\"arduino_ip\")}});a.push({xtype:\"button\",text:'Elimina cookie \"config_pins\"',margin:\"10 0 0 0\",handler:function(){window.localStorage.removeItem(\"config_pins\")}});this_view.setItems(a)",572635,196,573669,67,573754,67,572800,36,"settings.V_settings",567584,64,"navigationBar:{docked:\"top",572965,150,"items:[{xtype:\"panel\",title:\"ImpostiazionI\",",572872,44,"xtype:\"list\",flex:1,disableSelection:true",573135,191,"if(a==0){b.up(\"navigationview\").push({xtype:\"settings_tester\"})}if(a==1){b.up(\"navigationview\").push({xtype:\"settings_pins\"})}if(a==2){b.up(\"navigationview\").push({xtype:\"settings_about\"})}}},data:[{title:\"Verifica connessione\",pictosIcon:\"!\"},{title:\"Configura Pin",573403,51,573452,45,"navigationview",573502,45,"navigationview",573552,63,"settings",573619,50,"view.settings.V_profiles",570825,37,"title:\"Profili\"",569903,58,"]}},0,[\"settings_profile",573467,46,"_profiles",572687,45,"settings_profiles:true},[\"widget.settings_profiles\"],0,[SemperSitAmet.view.settings,\"V_profile",573630,39,"view.settings.V_tester",570825,37,"title:\"Connessione\"",569903,95,568373,104,568681,46,"<br><br>E' consigliabile associare un'ip fisso ad Arduino <br><br><b>hostname:</b> <i>WIZnetEFFEED</i><br><b>MAC:</b> <i>DE:AD:BE:EF:FE:ED</i><br><br>",568727,52,"la connessione",568094,50,568843,76,"a){Ext.Msg.prompt(\"Subnet\",\"Inserire la Subnet dove si trova Arduino\",function(f,d){if(f==\"ok\"){a",568923,78,"abortAll();var b=false;var e=0;for(var c=0;c<=255;c++",566861,32,"\"+d+\".\"+c+\"",569035,37,"60000,failure:function(){e++;if(e==256&&!b){a",569702,33,"alert(\"Attenzione!\",\"Testati tutti gli ip della subnet \"+d+\" senza successo.\")}},success:function(h){e++;var g=Ext.JSON.decode(h.responseText);if(g.success){b=true;Ext.Ajax.abortAll();var i=h.request.options.url.replace(\"http://\",\"\").replace(\"/?action=read_actual_states\",\"\");window.localStorage.setItem(\"arduino_ip\",i);a.up(\"viewport\").unmask();",568217,36,569866,166,"]})}}})}}},null,false,\"192.168.1\")}}}]}},0,[\"settings_tester",573468,45,"_test",519951,36,"panel:true,settings_tester:true},[\"widget.settings_tester\"],0,[SemperSitAmet.view.settings,\"V_tester",573631,38,"view.settings.V_about",570825,37,"title:\"Info\"",569903,95,"logo_eis",567786,77,"]}},0,[\"settings_about",573468,45,"_abou",469232,35,"panel:true,settings_about:true},[\"widget.settings_about\"],0,[SemperSitAmet.view.settings,\"V_abou",566736,39,"view.settings.V_pins",570825,37,"title:\"Configura PINs\"",569903,35,"},items:[{xtype:\"panel\",width:\"100%\"",304057,36,",items:[{html:\"7\",flex:0.2},{xtype:\"textfield\",name:\"etichetta7\",value:\"pin7\",flex:1},{xtype:\"selectfield\",name:\"tipo7\",options:[{text:\"Switch\",value:\"switch\"},{text:\"A pressione\",value:\"pression_button\"},{text:\"Temporizzato\",value:\"timed_button\"},{text:\"Sensore Temperatura\",value:\"monitor_temperature\"}],flex:1},{xtype:\"numberfield\",name:\"tempo7\",hidden:true},{xtype:\"selectfield\",name:\"disabilitato7\",options:[{text:\"OK\",value:\"false\"},{text:\"OFF\",value:\"true\"}],flex:1}]},{xtype:\"panel\",width:\"100%\"",304057,36,",items:[{html:\"8\",flex:0.2},{xtype:\"textfield\",name:\"etichetta8\",value:\"pin8\",flex:1},{xtype:\"selectfield\",name:\"tipo8\",options:[{text:\"Switch\",value:\"switch\"},{text:\"A pressione\",value:\"button_pression\"},{text:\"Temporizzato\",value:\"button_time\"},{text:\"Sensore Temperatura\",value:\"monitor_temperature\"}],flex:1},{xtype:\"numberfield\",name:\"tempo8\",hidden:true},{xtype:\"selectfield\",name:\"disabilitato8\",options:[{text:\"OK\",value:\"false\"},{text:\"OFF\",value:\"true\"}],flex:1}]},{xtype:\"button\",text:\"Salva\",margin:\"10 0 0 0\",handler:function(){var b={etichetta:Ext.ComponentQuery.query(\"settings_pins textfield[name=etichetta7]\")[0].getValue(),tipo:Ext.ComponentQuery.query(\"settings_pins selectfield[name=tipo7]\")[0].getValue(),tempo:Ext.ComponentQuery.query(\"settings_pins numberfield[name=tempo7]\")[0].getValue(),disabilitato:Ext.ComponentQuery.query(\"settings_pins textfield[name=disabilitato7]\")[0].getValue()},a={etichetta:Ext.ComponentQuery.query(\"settings_pins textfield[name=etichetta8]\")[0].getValue(),tipo:Ext.ComponentQuery.query(\"settings_pins selectfield[name=tipo8]\")[0].getValue(),tempo:Ext.ComponentQuery.query(\"settings_pins numberfield[name=tempo8]\")[0].getValue(),disabilitato:Ext.ComponentQuery.query(\"settings_pins textfield[name=disabilitato8]\")[0].getValue()};var c=[null,null,null,null,null,null,null,b,a];console.log(c)}}]}},0,[\"settings_pin",573467,46,"_pins",572687,45,"settings_pins:true},[\"widget.settings_pins\"],0,[SemperSitAmet.view.settings,\"V_pin",573630,52,"settings",570652,38,"settings.V_settings\",\"settings.V_profiles\",\"settings.V_tester\",\"settings.V_about\",\"settings.V_pin",573752,58,573623,46,"view.type_pin.V_monitor_temperature",572851,35,"h",569919,34,"},initialize:function(){this_view=this;Ext.Panel",522288,33,"var c=this_view.pin;var a=this_view.etichetta;var b=",570918,39,"Temp: \"+a},{xtype:\"label\",name:\"label_temperature_\"+c},{xtype:\"button\",text:\"Aggiorna\",margin:\"0 0 0 20\",listeners:{painted:function(){Ext.Ajax.request({method:\"GET\",url:\"http://\"+window.localStorage.getItem(\"arduino_ip\")+\"/?action=get_dht_values&pin=\"+c,success:function(f){var d=Ext.JSON.decode(f.responseText);var e=d.temperature,g=d.humidity;Ext.ComponentQuery.query(\"monitor_temperature label[name=label_temperature_\"+c+\"]\")[0].setHtml(e+\"C\ufffff\ufffff \"+g+\"%\")}})}},handler:function(){Ext.Ajax.request({method:\"GET\",url:\"http://\"+window.localStorage.getItem(\"arduino_ip\")+\"/?action=get_dht_values&pin=\"+c,success:function(f){var d=Ext.JSON.decode(f.responseText);var e=d.temperature,g=d.humidity;Ext.ComponentQuery.query(\"monitor_temperature label[name=label_temperature_\"+c+\"]\")[0].setHtml(e+\"C\ufffff\ufffff \"+g+\"%\")}})}}];this_view.setItems(b)}},0,[\"monitor_temperature",573468,37,"monitor_temperature",572687,46,"onitor_temperature:true},[\"widget.monitor_temperature\"],0,[SemperSitAmet.view.type_pin,\"V_monitor_temperature",573631,51,"type_pin",570652,38,"type_pin.V_switch\",\"type_pin.V_pression_button\",\"type_pin.V_timed_button\",\"type_pin.V_monitor_temperature",573753,57,"type_p",573812,92,",\"C_settings\",\"C_type_p",573901,829,";if(window.localStorage.getItem(\"config_pins\")===null){this.inizializzoBottoni()}console.log(Ext.JSON.decode(window.localStorage.getItem(\"config_pins\")));var a=window.localStorage.getItem(\"arduino_ip\");if(a!==null",571033,48,"card]\")[0].layout.setAnimation(null);",571035,46,"card]\")[0].setActiveItem(1);",571035,46,"card]\")[0].layout.setAnimation(\"flip\")}},inizializzoBottoni:function(){var a=[];for(var b=0;b<7;b++){a[b+3]={xtype:\"switch\",pin:(b+3),etichetta:\"PIN_\"+(b+3),tempo:null,hidden:false}}a[14]={xtype:\"switch\",pin:14,etichetta:\"PIN_A0\",tempo:null,hidden:false};a[15]={xtype:\"monitor_temperature\",pin:15,etichetta:\"PIN_A1\",tempo:null,hidden:false};window.localStorage.setItem(\"config_pins\",Ext.JSON.encode(a)",574729,207]